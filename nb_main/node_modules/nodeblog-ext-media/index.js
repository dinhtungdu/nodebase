"use strict";

var path = require('path');
var router = require(path.join(LIBS_DIR, 'router.js'))();
var emitter = require(path.join(LIBS_DIR, 'eventEmitter'));

module.exports = function() {
    var self = {};

    emitter.emit('ext:media:init');

    self.registerMediaRoutes = function(nb) {
        console.log('registerMediaRoutes');
        emitter.emit('ext:media:beforeRegisterMediaRoutes');

        /***** set media route *****/
        var mediaRouter = require('./media');
        nb.app.use('/media', mediaRouter);
    };

    return self;
};
